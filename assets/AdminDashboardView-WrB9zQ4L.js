import{_ as p,r as a,o as u,c as _,a as i,b as t,w as n,d as e,j as m,h as f,F as k}from"./index-EAGn9I9D.js";const g={data(){return{checkSuccess:!1,isLoading:!1}},methods:{checkLogin(){this.isLoading=!0;const s=document.cookie.replace(/(?:(?:^|.*;\s*)W6Token\s*=\s*([^;]*).*$)|^.*$/,"$1");s?(this.$http.defaults.headers.common.Authorization=s,this.$http.post("https://ec-course-api.hexschool.io/v2/api/user/check").then(o=>{this.checkSuccess=!0}).catch(o=>{alert(o.response.data.message),this.$router.push("/login")}).finally(()=>{this.isLoading=!1})):(alert("請先登入"),this.$router.push("/login"))}},mounted(){this.checkLogin()}},L=i("h1",{class:"mb-3"},"這是後台頁面",-1),$={class:"mb-3"},V=i("a",{href:"#","click.prevent":"singout"},"登出",-1);function v(s,h,o,x,r,w){const c=a("RouterLink"),d=a("RouterView"),l=a("VueLoading");return u(),_(k,null,[L,i("div",$,[t(c,{to:"/"},{default:n(()=>[e("回前台")]),_:1}),e(" | "),t(c,{to:"/admin/products"},{default:n(()=>[e("後台產品列表")]),_:1}),e(" | "),t(c,{to:"/admin/orders"},{default:n(()=>[e("後台訂單")]),_:1}),e(" | "),V]),r.checkSuccess?(u(),m(d,{key:0})):f("",!0),t(l,{active:r.isLoading},null,8,["active"])],64)}const B=p(g,[["render",v]]);export{B as default};
