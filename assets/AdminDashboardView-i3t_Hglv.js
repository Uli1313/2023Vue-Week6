import{_,r as a,o as l,c as k,a as r,b as t,w as i,d as e,j as f,k as g,h as L,F as V}from"./index-5_PQs_Pp.js";const $={data(){return{checkSuccess:!1,isLoading:!1}},methods:{checkLogin(){this.isLoading=!0;const o=document.cookie.replace(/(?:(?:^|.*;\s*)W6Token\s*=\s*([^;]*).*$)|^.*$/,"$1");o?(this.$http.defaults.headers.common.Authorization=o,this.$http.post("https://ec-course-api.hexschool.io/v2/api/user/check").then(n=>{this.checkSuccess=!0}).catch(n=>{alert(n.response.data.message),this.$router.push("/login")}).finally(()=>{this.isLoading=!1})):(alert("請先登入"),this.$router.push("/login"))},signout(){console.log(123),document.cookie="W6Token=;expires=;",alert("已登出"),this.$router.push("/login")}},mounted(){this.checkLogin()}},x=r("h1",{class:"mb-3"},"這是後台頁面",-1),v={class:"mb-3"};function w(o,s,n,b,u,h){const c=a("RouterLink"),d=a("RouterView"),p=a("VueLoading");return l(),k(V,null,[x,r("div",v,[t(c,{to:"/"},{default:i(()=>[e("回前台")]),_:1}),e(" | "),t(c,{to:"/admin/products"},{default:i(()=>[e("後台產品列表")]),_:1}),e(" | "),t(c,{to:"/admin/orders"},{default:i(()=>[e("後台訂單")]),_:1}),e(" | "),r("a",{href:"#",onClick:s[0]||(s[0]=f((...m)=>h.signout&&h.signout(...m),["prevent"]))},"登出")]),u.checkSuccess?(l(),g(d,{key:0})):L("",!0),t(p,{active:u.isLoading},null,8,["active"])],64)}const C=_($,[["render",w]]);export{C as default};
